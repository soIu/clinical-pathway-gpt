(this.webpackJsonpkzqtc2=this.webpackJsonpkzqtc2||[]).push([[0],{13:function(t,e,o){},17:function(t,e,o){"use strict";o.r(e);var n=o(1),r=o(4);o(13);const a=(()=>{let t=null,e=!1,o=null,n=null;var r=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set;return{get simulatorEnabled(){return e},enableSimulator:()=>{e=!0},disableSimulator:()=>{e=!1,n=null},get prompt(){return t},setPrompt(e){t=e,a.checkForPromptSimulation()},onPromptInputDetected:t=>{o=t,n=t=>{r&&r.call(o,t),o.dispatchEvent(new Event("input",{bubbles:!0}))},a.checkForPromptSimulation()},checkForPromptSimulation:()=>{if(!t||!o||!e)return;let r=a.prompt;if(!r)return;o.addEventListener("focus",(()=>{a.disableSimulator()})),o.addEventListener("keydown",(()=>{a.disableSimulator()}));const s=()=>{if(!a.simulatorEnabled)return;if(0===r.length)return void(()=>{if(a.simulatorEnabled){const t=document.querySelector(".nlux-AiChat-root .nlux-comp-composer > button");t&&t.dispatchEvent(new Event("click",{bubbles:!0})),a.disableSimulator()}})();n&&n(o.value+r[0]),r=r.slice(1);const t=Math.floor(60*Math.random())+20;setTimeout(s,t)};s()}}})(),s=setInterval((()=>{const t=document.querySelector(".nlux-AiChat-root .nlux-comp-composer > textarea");t&&(clearInterval(s),"function"===typeof a.onPromptInputDetected&&setTimeout((()=>{a.onPromptInputDetected(t)}),1e3))}),200);setTimeout((()=>{null===a||void 0===a||a.enableSimulator(),null===a||void 0===a||a.setPrompt("Who are you?")}),1e3);var c=o(2);o(16);let i="";const l=async(t,e)=>{const o=await fetch("/chat?query="+encodeURIComponent(t)+"&history="+encodeURIComponent(i),{method:"GET"});if(200!==o.status)return void e.error(new Error("Failed to connect to the server"));if(!o.body)return;i+=t+"\n";const n=o.body.getReader(),r=new TextDecoder;for(;;){const{value:t,done:o}=await n.read();if(o){i+="\n";break}const a=r.decode(t);i+=a,a&&e.next(a)}e.complete()},u={assistant:{name:"Clinical Pathway",avatar:"https://docs.nlkit.com/nlux/images/personas/hawking.png",tagline:""},user:{name:"Marissa",avatar:"https://docs.nlkit.com/nlux/images/personas/marissa.png"}};var d=o(0),m=()=>{const t=Object(c.useAsStreamAdapter)(l,[]);return Object(d.jsx)(c.AiChat,{adapter:t,personaOptions:u,displayOptions:{colorScheme:"dark"}})};const p=document.getElementById("root");if(p){Object(r.createRoot)(p).render(Object(d.jsx)(n.StrictMode,{children:Object(d.jsx)(m,{})}))}}},[[17,1,2]]]);
//# sourceMappingURL=main.6ace40a1.chunk.js.map